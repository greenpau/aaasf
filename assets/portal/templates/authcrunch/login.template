<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- This is experimental AuthCrunch template -->
    <title>{{ .Title }}</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Authentication Portal" />
    <meta name="author" content="Paul Greenberg github.com/greenpau" />
    <link rel="shortcut icon" href="{{ pathjoin .ActionEndpoint "/assets/images/favicon.png" }}" type="image/png" />
    <link rel="icon" href="{{ pathjoin .ActionEndpoint "/assets/images/favicon.png" }}" type="image/png" />

    <!-- Matrialize CSS -->
    <!--
    <link rel="stylesheet" href="{{ pathjoin .ActionEndpoint "/assets/materialize-css/css/materialize.css" }}" />
    -->
    <link rel="stylesheet" href="{{ pathjoin .ActionEndpoint "/assets/google-webfonts/roboto.css" }}" />
    <link rel="stylesheet" href="{{ pathjoin .ActionEndpoint "/assets/line-awesome/line-awesome.css" }}" />

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              clifford: "#da373d",
            },
          },
        },
        plugins: [require("@tailwindcss/forms")],
      };
    </script>

    <!--
    <link rel="stylesheet" href="{{ pathjoin .ActionEndpoint "/assets/css/styles.css" }}" />
    -->
    {{ if eq .Data.ui_options.custom_css_required "yes" }}
      <link rel="stylesheet" href="{{ pathjoin .ActionEndpoint "/assets/css/custom.css" }}" />
    {{ end }}
  </head>
  <body>
    <div class="min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
      <div class="max-w-md w-full space-y-8">
        <div>
          <div class="mx-auto h-12 w-auto">
            <svg>
              <style type="text/css">
                .st0 {
                  fill-rule: evenodd;
                  clip-rule: evenodd;
                  fill: #324960;
                }
                .st1 {
                  fill-rule: evenodd;
                  clip-rule: evenodd;
                  fill: #f15756;
                }
              </style>
              <g>
                <polygon class="st0" points="54.27,133.25 75.66,52.39 8.25,170.61 118.78,144.07" />
                <polygon
                  class="st1" points="166.54,118.34 104.26,7.21 87.59,63.51 71.98,116.19 102.09,87.06 110.24,100.29 140.07,148.7 59.35,170.61 195.43,169.88" />
              </g>
            </svg>
          </div>

          <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2>
          <p class="mt-2 text-center text-sm text-gray-600">
            Or
            <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500"> start your 14-day free trial </a>
          </p>
        </div>
        <form class="mt-8 space-y-6" action="#" method="POST">
          <input type="hidden" name="remember" value="true" />
          <div class="rounded-md shadow-sm -space-y-px">
            <div>
              <label for="email-address" class="sr-only">Email address</label>
              <input
                id="email-address"
                name="email"
                type="email"
                autocomplete="email"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
                placeholder="Email address" />
            </div>
            <div>
              <label for="password" class="sr-only">Password</label>
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="current-password"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
                placeholder="Password" />
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" />
              <label for="remember-me" class="ml-2 block text-sm text-gray-900"> Remember me </label>
            </div>

            <div class="text-sm">
              <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500"> Forgot your password? </a>
            </div>
          </div>

          <div>
            <button
              type="submit"
              class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
              <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                <!-- Heroicon name: solid/lock-closed -->
                <svg
                  class="h-5 w-5 text-indigo-500 group-hover:text-indigo-400"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  aria-hidden="true">
                  <path
                    fill-rule="evenodd"
                    d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                    clip-rule="evenodd" />
                </svg>
              </span>
              Sign in
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col s12 m8 offset-m2 l6 offset-l3 xl4 offset-xl4 app-card-container">
          <div class="row app-header center">
            {{ if .LogoURL }}
              <div class="col s4">
                <img class="d-block mx-auto mb-2" src="{{ .LogoURL }}" alt="{{ .LogoDescription }}" width="72" height="72" />
              </div>
              <div class="col s8">
                <h4>{{ .Title }}</h4>
              </div>
            {{ else }}
              <h4>{{ .Title }}</h4>
            {{ end }}
          </div>
          {{ if eq .Data.login_options.form_required "yes" }}
            <form action="{{ pathjoin .ActionEndpoint "/login" }}" method="POST">
              <div class="row app-form">
                {{ if eq .Data.login_options.identity_required "yes" }}
                  <div class="row app-input-row valign-wrapper">
                    <div class="input-field app-input-field">
                      <i class="lar la-user-circle"></i>
                      <input
                        id="username"
                        name="username"
                        type="text"
                        class="validate"
                        autocorrect="off"
                        autocapitalize="off"
                        spellcheck="false"
                        placeholder="username or email"
                        required />
                    </div>
                  </div>
                {{ end }}
                {{ if eq .Data.login_options.realm_dropdown_required "yes" }}
                  <div class="row app-input-row valign-wrapper">
                    <div class="input-field app-input-field">
                      <i class="lar la-address-book"></i>
                      <select id="realm" name="realm" class="browser-default">
                        {{ range .Data.login_options.realms }}
                          {{ if eq .default "yes" }}
                            <option value="{{ .realm }}" selected>
                              {{ .label }}
                            </option>
                          {{ else }}
                            <option value="{{ .realm }}">{{ .label }}</option>
                          {{ end }}
                        {{ end }}
                      </select>
                    </div>
                  </div>
                {{ else }}
                  {{ range .Data.login_options.realms }}
                    <input type="hidden" id="realm" name="realm" value="{{ .realm }}" />
                  {{ end }}
                {{ end }}
              </div>
              <div class="row app-control valign-wrapper">
                <div class="col s6">
                  {{ if eq .Data.login_options.registration_required "yes" }}
                    <span class="app-link"><a href="{{ pathjoin .ActionEndpoint "/register" }}">Register</a></span>
                  {{ end }}
                  {{ if eq .Data.login_options.password_recovery_required "yes" }}
                    <span class="app-link"><a href="{{ pathjoin .ActionEndpoint "/forgot" }}">Forgot Password?</a></span>
                  {{ end }}
                </div>
                <div class="col s6 right-align">
                  <button type="submit" name="submit" class="waves-effect waves-light btn app-btn">
                    <i class="las la-sign-in-alt left app-btn-icon"></i>
                    <span class="app-btn-text">Login</span>
                  </button>
                </div>
              </div>
            </form>
          {{ end }}
          {{ if eq .Data.login_options.external_providers_required "yes" }}
            <div class="row">
              {{ if eq .Data.login_options.identity_required "yes" }}
                <p class="app-text">Additional Sign In Options:</p>
              {{ end }}
              {{ range .Data.login_options.external_providers }}
                <a class="waves-effect waves-light {{ .color }} app-btn btn" href="{{ .endpoint }}">
                  <i class="lab la-{{ .icon }} app-btn-icon"></i><span class="app-btn-text">{{ .text }}</span>
                </a>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>
    </div>
    <!-- Optional JavaScript -->
    <!--    <script src="{{ pathjoin .ActionEndpoint "/assets/materialize-css/js/materialize.js" }}"></script>
    -->
    {{ if eq .Data.ui_options.custom_js_required "yes" }}
    <script src="{{ pathjoin .ActionEndpoint "/assets/js/custom.js" }}"></script>
    {{ end }}
  </body>
</html>
